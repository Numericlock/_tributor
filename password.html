<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="utf-8">
	<title>新規登録</title>
	<script src="javascripts/jquery-2.1.3.js"></script>
	<script src="javascripts/jquery.pjax.js"></script>
	<script src="javascripts/barba.js"></script>
	<link rel="stylesheet" href="stylesheets/fonts.css">
	<link rel="stylesheet" href="stylesheets/opening-common.css">
	<link rel="stylesheet" href="stylesheets/wave.css">
	<link rel="stylesheet" href="stylesheets/password.css">
</head>
<body>
<div id="barba-wrapper">
	<div class='wave -one'></div>
	<div class='wave -two'></div>
	<div class='wave -three'></div>
	<div class="barba-container">
		<div class="title-wrapper">
			<span class="form-title">パスワードを入力</span>
			<span class="form-comment">6文字以上の英数字にしてください</span>
		</div>	
		<div>
			<div class="password_box box">
				<div class="password_inner inner">
					<input id="text" class="text" type="text">
					<div class="password_string string">パスワード</div>
				</div>
				<i class="fas fa-eye-slash"></i>
			</div>
		</div>		
		<div>
			<div class="password2_box box">
				<div class="password2_inner inner">
					<input id="text2" class="text" type="text">
					<div class="password2_string string">確認用パスワード</div>
				</div>
				<i class="fas fa-eye-slash"></i>
			</div>
		</div>
		<div class="control-button">
			<a href="home.html"><button type="button">始める</button></a>
		</div>
	</div>
</div>
</body>
<script>
    window.onload = function () {
		$('#text').val("");
		$('#text2').val("");
    };
Barba.Pjax.init();

Barba.Prefetch.init();

 

// headタグ内の書き換え

Barba.Dispatcher.on('newPageReady', function(currentStatus, oldStatus, container, newPageRawHTML) {

 

  var head = document.head;

  var newPageRawHead = newPageRawHTML.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0];

  var newPageHead = document.createElement('head');

  newPageHead.innerHTML = newPageRawHead;

 

  var removeHeadTags = [

    "meta[name='description']",

    "meta[property^='og']",

    "meta[name^='twitter']",

    "link[rel='canonical']"

  ].join(',');

  var headTags = head.querySelectorAll(removeHeadTags)

  for(var i = 0; i < headTags.length; i++ ){

    head.removeChild(headTags[i]);

  }

  var newHeadTags = newPageHead.querySelectorAll(removeHeadTags)

 

  for(var i = 0; i < newHeadTags.length; i++ ){

    head.appendChild(newHeadTags[i]);

  }

 

});

 

// Googleアナリティクスに情報を送る

Barba.Dispatcher.on('initStateChange', function() {

  if (typeof ga === 'function') {

    ga('send', 'pageview', window.location.pathname.replace(/^\/?/, '/') + window.location.search);

  }

});

 

// ページごとの処理

var HomeTransition = Barba.BaseView.extend({

  namespace: 'home',

  onEnter: () => {

    // 読み込みを開始した時の処理

  },

  onEnterCompleted: () => {

    // トランジションを完了した時の処理

  }

});

HomeTransition.init();

 

// 共通アニメーション

var PageTransition = Barba.BaseTransition.extend({

  start: function() {

    Promise

      .all([this.newContainerLoading, this.moveOut()])

      .then(this.moveIn.bind(this));

  },

  moveOut: function() {

    // 遷移前の処理（内容はお好みで）

   // moveOutAnim();

    return $(this.oldContainer).animate({ opacity: 0 }, 800).promise();

  },

  moveIn: function() {

    var _this = this;

    var $el = $(this.newContainer);

 

    // 遷移後の処理（内容はお好みで）

    window.scrollTo( 0, 0 );

    $(this.oldContainer).hide();

    $el.css({

      visibility : 'visible',

      opacity : 0

    });

  //  moveInAnim();

 

    $el.animate({ opacity: 1 }, 400, function() {

      _this.done();

    });

  }

 

});

 

Barba.Pjax.getTransition = function() {

  return PageTransition;

};

 

Barba.BaseView.init()

Barba.Pjax.start();

 
	$('#text').focus(function(){
		$('.password_box').animate({borderTopColor: '#3be5ae', borderLeftColor: '#3be5ae', borderRightColor: '#3be5ae', borderBottomColor: '#3be5ae'}, 200);
	}).blur(function(){
		$('.password_box').animate({borderTopColor: '#d3d3d3', borderLeftColor: '#d3d3d3', borderRightColor: '#d3d3d3', borderBottomColor: '#d3d3d3'}, 200);
	});
	
	$('#text').change(function() {
		const str = $('#text').val();
		if(str===""){
			const result = $('.password_string').removeClass('keepfocus');
		}else{ 
			const result = $('.password_string').addClass('keepfocus')
		}
	});	
	$('#text2').focus(function(){
		$('.password2_box').animate({borderTopColor: '#3be5ae', borderLeftColor: '#3be5ae', borderRightColor: '#3be5ae', borderBottomColor: '#3be5ae'}, 200);
	}).blur(function(){
		$('.password2_box').animate({borderTopColor: '#d3d3d3', borderLeftColor: '#d3d3d3', borderRightColor: '#d3d3d3', borderBottomColor: '#d3d3d3'}, 200);
	});
	
	$('#text2').change(function() {
		const str = $('#text2').val();
		if(str===""){
			const result = $('.password2_string').removeClass('keepfocus2');
		}else{ 
			const result = $('.password2_string').addClass('keepfocus2')
		}
	});
</script>
</html>
