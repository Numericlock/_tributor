<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="utf-8">
	<title>リスト/-tributor</title>
	<script src="../js/jquery-2.1.3.js"></script>
    <link rel="icon" href="/favicon.ico">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="../css/opening-common.css">
	<link rel="stylesheet" href="../css/common.css">
	<link rel="stylesheet" href="../css/plus.css">
	<link rel="stylesheet" href="../css/checkbox.css">
	<link rel="stylesheet" href="../css/lists_members.css">
</head>

<body>
	<div class="wrapper">
		<div class="nav">
			<a href="/home">
				<svg class="nav-icon home-icon" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
					<g>
						<polygon class="st0" points="442.531,218 344.828,120.297 256,31.469 167.172,120.297 69.438,218.047 0,287.469 39.984,327.453 
							109.406,258.031 207.156,160.281 256,111.438 304.844,160.281 402.531,257.984 472.016,327.453 512,287.469 	" />
						<polygon class="st0" points="85.719,330.375 85.719,480.531 274.75,480.531 274.75,361.547 343.578,361.547 343.578,480.531 
							426.281,480.531 426.281,330.328 256.016,160.063 " />
					</g>
				</svg>
			</a>
			<a href="/notice">
				<svg class="nav-icon" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
					<g>
						<path class="st0" d="M127.75,398h256.5V282.125c0-70.813-57.422-128.25-128.25-128.25c-70.844,0-128.25,57.438-128.25,128.25V398z
							 M201.875,188.625c6.094-3.531,12.563-6.5,19.344-8.813c4.344-1.469,9.063,0.844,10.547,5.188s-0.844,9.063-5.203,10.547
							C220.859,197.5,215.391,200,210.234,203l0,0c-3.984,2.313-9.063,0.969-11.359-3.016C196.563,196,197.906,190.938,201.875,188.625z
							 M147.938,282.125c0-21.906,6.578-42.375,17.844-59.438c2.531-3.813,7.688-4.875,11.531-2.344
							c3.828,2.531,4.875,7.688,2.344,11.516c-9.547,14.453-15.094,31.703-15.094,50.266V369.5c0,4.594-3.719,8.313-8.313,8.313
							s-8.313-3.719-8.313-8.313V282.125z" />
						<path class="st0" d="M404.844,424.656H107.156c-5.25,0-9.5,4.25-9.5,9.5v47.5h316.688v-47.5
							C414.344,428.906,410.094,424.656,404.844,424.656z" />
						<polygon class="st0" points="264.422,87.891 267.656,30.344 244.359,30.344 247.594,87.891 	" />
						<polygon class="st0" points="164.063,110.266 138.094,58.828 117.906,70.469 149.484,118.688 	" />
						<polygon class="st0" points="28.469,168.438 79.922,194.406 88.344,179.844 40.125,148.281 	" />
						<polygon class="st0" points="0,298 57.531,294.766 57.531,277.938 0,274.719 	" />
						<polygon class="st0" points="454.469,277.938 454.453,294.766 512,298 512,274.719 	" />
						<polygon class="st0" points="471.875,148.281 423.656,179.844 432.078,194.406 483.531,168.438 	" />
						<polygon class="st0" points="394.078,70.469 373.922,58.828 347.938,110.281 362.516,118.688 	" />
					</g>
				</svg>
			</a>
			<a href="#">
				<svg class="nav-icon" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
					<g>
						<path class="st0" d="M449.803,62.197C408.443,20.807,353.85-0.037,299.646-0.006C245.428-0.037,190.85,20.807,149.49,62.197
							C108.1,103.557,87.24,158.15,87.303,212.338c-0.047,37.859,10.359,75.766,30.547,109.359L15.021,424.525
							c-20.016,20.016-20.016,52.453,0,72.469c20,20.016,52.453,20.016,72.453,0L190.318,394.15
							c33.578,20.203,71.5,30.594,109.328,30.547c54.203,0.047,108.797-20.797,150.156-62.188
							c41.375-41.359,62.234-95.938,62.188-150.172C512.053,158.15,491.178,103.557,449.803,62.197z M391.818,304.541
							c-25.547,25.531-58.672,38.125-92.172,38.188c-33.5-0.063-66.609-12.656-92.188-38.188c-25.531-25.578-38.125-58.688-38.188-92.203
							c0.063-33.484,12.656-66.609,38.188-92.172c25.578-25.531,58.688-38.125,92.188-38.188c33.5,0.063,66.625,12.656,92.188,38.188
							c25.531,25.563,38.125,58.688,38.188,92.172C429.959,245.854,417.365,278.963,391.818,304.541z" />
					</g>
				</svg>
			</a>
			<a href="list.html">
				<svg class="nav-icon" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
					<g>
						<path class="st0" d="M392.197,26.581h-4.77v-9.699c0-9.316-7.55-16.882-16.881-16.882c-9.332,0-16.898,7.566-16.898,16.882v9.699
							h-42.576v-9.699c0-9.316-7.558-16.882-16.89-16.882c-9.324,0-16.89,7.566-16.89,16.882v9.699h-42.576v-9.699
							c0-9.316-7.566-16.882-16.89-16.882c-9.332,0-16.89,7.566-16.89,16.882v9.699h-42.584v-9.699c0-9.316-7.566-16.882-16.89-16.882
							c-9.332,0-16.89,7.566-16.89,16.882v9.699h-4.77c-38.501,0.008-69.684,31.199-69.7,69.7v306.59
							c0.016,60.28,48.856,109.12,109.129,109.128h156.354l146.312-146.312V96.281C461.89,57.78,430.699,26.589,392.197,26.581z
							 M429.173,350.021h-31.679c-51.237,0-92.766,41.53-92.766,92.766v33.787l-2.692,2.692l-142.804,0.008
							c-21.149-0.008-40.148-8.525-54.026-22.378c-13.853-13.878-22.37-32.877-22.378-54.025V96.281
							c0.008-10.258,4.114-19.398,10.834-26.142c6.743-6.719,15.883-10.826,26.142-10.834h4.77v18.121c0,9.332,7.558,16.889,16.89,16.889
							c9.324,0,16.89-7.558,16.89-16.889V59.306h42.584v18.121c0,9.332,7.558,16.889,16.89,16.889c9.323,0,16.89-7.558,16.89-16.889
							V59.306h42.576v18.121c0,9.332,7.566,16.889,16.89,16.889c9.332,0,16.89-7.558,16.89-16.889V59.306h42.576v18.121
							c0,9.332,7.566,16.889,16.898,16.889c9.332,0,16.881-7.558,16.881-16.889V59.306h4.77c10.259,0.008,19.398,4.114,26.142,10.834
							c6.718,6.744,10.825,15.883,10.834,26.142V350.021z" />
						<rect x="146.919" y="170.033" class="st0" width="218.17" height="32.725" />
						<rect x="146.919" y="257.294" class="st0" width="218.17" height="32.725" />
						<rect x="146.919" y="344.556" class="st0" width="130.9" height="32.725" />
					</g>
				</svg>
			</a>
			<a href="#">
				<svg class="nav-icon" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
					<g>
						<path class="st0" d="M490.237,90.753c-13.382-13.412-32.076-21.764-52.532-21.756H74.295C33.258,69.012,0.015,102.247,0,143.284
							v225.432c0.015,41.036,33.258,74.272,74.295,74.286h363.41c20.456,0.008,39.15-8.344,52.532-21.755
							C503.648,407.866,512,389.171,512,368.716V143.284C512,122.829,503.648,104.135,490.237,90.753z M74.295,107.04h363.41
							c8.701,0.008,16.466,3.136,22.714,8.21L256,269.478L51.58,115.25C57.829,110.175,65.594,107.047,74.295,107.04z M38.042,368.716
							V143.284c0.016-5.826,1.486-11.205,3.894-16.05l141.813,129.998L41.55,384.044C39.365,379.393,38.058,374.252,38.042,368.716z
							 M437.705,404.96H74.295c-8.204-0.007-15.581-2.771-21.637-7.319l150.618-121.825l22.818,21.711
							c16.911,15.529,42.902,15.529,59.813,0l22.818-21.711l150.61,121.825C453.279,402.189,445.901,404.953,437.705,404.96z
							 M473.958,368.716c-0.016,5.535-1.322,10.677-3.508,15.328L328.251,257.233l141.805-129.998c2.415,4.844,3.886,10.217,3.901,16.05
							V368.716z" />
					</g>
				</svg>
			</a>
			<div>
				<button type="button" id="dotRadius" class="dotRadius" data-toggle="modal" data-target="#ModalAddCalendar"><span id="plus"></span></button>
			</div>

		</div>
		<div class="content">
			<div class="content-title">
				　<span>リスト</span>
			</div>
			<div class="content-wrapper">
				<div class="list-member-header">
					<div class="list-icon">
				        <img src="../img/list_icon/{{ $lists->id }}.png" onerror="this.src='../img/list_icon/default.png'">

                        
					</div>
					<div class="list-title">

							{{$lists->name }}
					</div>
					<div class="list-members-num">
						メンバー{{$count }}人
					</div>
					<div class="list-update-btn">
						<button type="button" id="list_update_button" class="btn-square-small">リストを編集する</button>
					</div>
				</div>
				<div class="lists-users">
					<div class="lists-control-wrapper">

				<!--		<svg class="lists-setting-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20"><g><path d="M16.783 10c0-1.049.646-1.875 1.617-2.443a8.932 8.932 0 0 0-.692-1.672c-1.089.285-1.97-.141-2.711-.883-.741-.74-.968-1.621-.683-2.711a8.732 8.732 0 0 0-1.672-.691c-.568.97-1.595 1.615-2.642 1.615-1.048 0-2.074-.645-2.643-1.615a8.697 8.697 0 0 0-1.671.691c.285 1.09.059 1.971-.684 2.711-.74.742-1.621 1.168-2.711.883A8.797 8.797 0 0 0 1.6 7.557c.97.568 1.615 1.394 1.615 2.443 0 1.047-.645 2.074-1.615 2.643a8.89 8.89 0 0 0 .691 1.672c1.09-.285 1.971-.059 2.711.682.741.742.969 1.623.684 2.711a8.841 8.841 0 0 0 1.672.693c.568-.973 1.595-1.617 2.643-1.617 1.047 0 2.074.645 2.643 1.617a8.963 8.963 0 0 0 1.672-.693c-.285-1.088-.059-1.969.683-2.711.741-.74 1.622-1.166 2.711-.883a8.811 8.811 0 0 0 .692-1.672c-.973-.569-1.619-1.395-1.619-2.442zM10 13.652a3.652 3.652 0 1 1 0-7.306 3.653 3.653 0 0 1 0 7.306z"/></g></svg> -->
					</div>
					@foreach($lists_users as $user)
						<div class="lists-users-wrapper">
							<div class="lists-users-icon">
								<img src="../img/icon_img/{{ $user->users_id }}.png" onerror="this.src='../img/icon_img/default.png'">

							</div>
							<div class="lists-users-nameId">
								<div class="lists-users-nameId-name">
									<span>{{ $user->users_name }}</span>
								</div>
								<div class="lists-users-nameId-id">
									<span>{{ "@".$user->users_id }}</span>
								</div>
							</div>
						</div>
					@endforeach
				</div>
				<div class="list-create-btn">
					<button type="button" class="btn-square">リストを作成する</button>
				</div>
			</div>
		</div>
		<div class="list">
			<a href="#"><img class="common-list-icon" src="../img/2.jpg"></a>
			<a href="#"><img class="common-list-icon" src="../img/2.jpg"></a>
			<a href="#"><img class="common-list-icon" src="../img/2.jpg"></a>
			<a href="#"><img class="common-list-icon" src="../img/2.jpg"></a>
			<a href="#"><img class="common-list-icon" src="../img/2.jpg"></a>
			<a href="#">
				<svg class="edit-list-icon" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
					<g>
						<path class="st0" d="M504.16,183.326l-17.24-17.233c-10.453-10.461-27.415-10.452-37.868,0l-16.127,16.136l55.1,55.099
							l16.135-16.126C514.613,210.741,514.613,193.787,504.16,183.326z" />
						<path class="st0" d="M18.474,178.378H64.86c10.199,0,18.474-8.274,18.474-18.49c0-10.208-8.275-18.482-18.474-18.482H18.474
							C8.274,141.406,0,149.68,0,159.888C0,170.104,8.274,178.378,18.474,178.378z" />
						<rect x="22.83" y="197.722" class="st0" width="34.583" height="116.557" />
						<path class="st0" d="M83.334,352.113c0-10.208-8.275-18.491-18.474-18.491H18.474C8.274,333.622,0,341.905,0,352.113
							c0,10.207,8.274,18.482,18.474,18.482H64.86C75.059,370.595,83.334,362.32,83.334,352.113z" />
						<rect x="139.594" y="150.44" class="st0" width="155.624" height="25.937" />
						<rect x="139.594" y="245.543" class="st0" width="155.624" height="25.938" />
						<rect x="139.594" y="340.647" class="st0" width="95.104" height="25.937" />
						<path class="st0" d="M57.413,71.556c0.008-3.977,3.242-7.211,7.215-7.219h263.645c8.82,0.008,16.638,3.52,22.434,9.287
							c5.767,5.8,9.283,13.619,9.292,22.434v132.194l34.583-34.583V96.058c-0.013-36.627-29.682-66.296-66.309-66.304H64.628
							c-23.096,0.017-41.785,18.71-41.798,41.802v50.507h34.583V71.556z" />
						<path class="st0" d="M359.998,415.943c-0.009,8.814-3.525,16.633-9.292,22.424c-5.796,5.775-13.614,9.288-22.434,9.296H64.628
							c-3.973-0.008-7.206-3.242-7.215-7.218v-50.507H22.83v50.507c0.013,23.092,18.702,41.785,41.798,41.801h263.645
							c36.627-0.008,66.296-29.677,66.309-66.303v-58.274l-34.583,34.583V415.943z" />
						<polygon class="st0" points="281.81,333.344 281.81,388.443 336.911,388.443 472.997,252.357 417.897,197.257 	" />
					</g>
				</svg>
			</a>
		</div>
	</div>
	<!--リスト作成のmodal部分-->
	<div class="modal">
	</div>
	<div id="list-modal-content" class='modal-content'>
		<div class="modal-title">
			<span>リストを作成</span>
			<svg class="modal-closeButton" id="modal_cancel" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
				 viewBox="0 0 512 512" xml:space="preserve">
				<g>
					<polygon class="st0" points="512,52.535 459.467,0.002 256.002,203.462 52.538,0.002 0,52.535 203.47,256.005 0,459.465 
						52.533,511.998 256.002,308.527 459.467,511.998 512,459.475 308.536,256.005 	"/>
				</g>
			</svg>
		</div>  
		<div class="list-modal-minimumInputs">
			<div class="list-modal-profileImageInput">
				<img src="../img/2.jpg">			        			
			</div>            
			<div class="list-modal-listNameInput">
				<div class="id_box box">
					<div class="id_inner inner">
						<input id="text" class="text" maxlength="24" type="text">
						<div class="listName_string string">Listの名前を入力</div>
					</div>
					<i class="fas fa-eye-slash"></i>
				</div>
			</div>
			<div class="list-modal-isPublish">
				<span>公開</span>
				<input type="checkbox" id="isPublish" value="" />
				<label class="checkbox-label" for="isPublish">
					<span class="checkbox-span"><!-- This span is needed to create the "checkbox" element --></span>
				</label> 
			</div>
		</div>
		<div class="list-modal-addUsers">
			<div class="list-modal-addUsers-searchArea">
				<div class="list-modal-addUsers-searchArea-searchBox">
					<div class="id_box box">
						<div class="id_inner inner">
							<input id="search_text" class="text" maxlength="24" type="text">
							<div class="listName_string string">ユーザーを検索</div>
						</div>
						<i class="fas fa-eye-slash"></i>
					</div>
				</div>                
				<div class="list-modal-addUsers-searchArea-result">
					<div class="list-modal-addUsers-searchArea-result-user">
						<div class="list-modal-addUsers-searchArea-result-user-icon">
							<img src="../img/2.jpg">
						</div>
						<div class="list-modal-addUsers-searchArea-result-user-name">
							<span>柔道部</span>
						</div>
						<div class="list-modal-addUsers-searchArea-result-user-checkbox">
							<div class="checkbox">
								<div>
									<input type="checkbox" id="check2" name="check2" value="" />
									<label class="checkbox-label" for="check2">
										<span class="checkbox-span"><!-- This span is needed to create the "checkbox" element --></span>
									</label>
								</div>
							</div>
						</div>
					</div> 
					<div class="list-modal-addUsers-searchArea-result-user">
						<div class="list-modal-addUsers-searchArea-result-user-icon">
							<img src="../img/2.jpg">
						</div>
						<div class="list-modal-addUsers-searchArea-result-user-name">
							<span>ホスト</span>
						</div>
						<div class="list-modal-addUsers-searchArea-result-user-checkbox">
							<div class="checkbox">
								<div>
									<input type="checkbox" id="check2" name="check2" value="" />
									<label class="checkbox-label" for="check2">
										<span class="checkbox-span"><!-- This span is needed to create the "checkbox" element --></span>
									</label>
								</div>
							</div>
						</div>
					</div> 
					<div class="list-modal-addUsers-searchArea-result-user">
						<div class="list-modal-addUsers-searchArea-result-user-icon">
							<img src="../img/2.jpg">
						</div>
						<div class="list-modal-addUsers-searchArea-result-user-name">
							<span>ブラック</span>
						</div>
						<div class="list-modal-addUsers-searchArea-result-user-checkbox">
							<div class="checkbox">
								<div>
									<input type="checkbox" id="check2" name="check2" value="" />
									<label class="checkbox-label" for="check2">
										<span class="checkbox-span"><!-- This span is needed to create the "checkbox" element --></span>
									</label>
								</div>
							</div>
						</div>
					</div> 
				</div>
			</div>
			<div class="list-modal-addUsers-IntendAdd">
				<div class="list-modal-addUsers-IntendAdd-box">
					<svg class="list-modal-addUsers-IntendAdd-box-close" id="modal_cancel" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						 viewBox="0 0 512 512" xml:space="preserve">
						<g>
							<polygon class="st0" points="512,52.535 459.467,0.002 256.002,203.462 52.538,0.002 0,52.535 203.47,256.005 0,459.465 
								52.533,511.998 256.002,308.527 459.467,511.998 512,459.475 308.536,256.005 	"/>
						</g>
					</svg>
					<div class="list-modal-addUsers-IntendAdd-users">
						<span class="list-modal-addUsers-IntendAdd-users-name">M</span>
						<span class="list-modal-addUsers-IntendAdd-users-id">@m</span>
					</div>
				</div>
				<div class="list-modal-addUsers-IntendAdd-box">
					<svg class="list-modal-addUsers-IntendAdd-box-close" id="modal_cancel" version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						 viewBox="0 0 512 512" xml:space="preserve">
						<g>
							<polygon class="st0" points="512,52.535 459.467,0.002 256.002,203.462 52.538,0.002 0,52.535 203.47,256.005 0,459.465 
								52.533,511.998 256.002,308.527 459.467,511.998 512,459.475 308.536,256.005 	"/>
						</g>
					</svg>
					<div class="list-modal-addUsers-IntendAdd-users">
						<span class="list-modal-addUsers-IntendAdd-users-name">柔道部</span>
						<span class="list-modal-addUsers-IntendAdd-users-id">@yamamoto_nyan</span>
					</div>
				</div>
				<div class="list-modal-addUsers-IntendAdd-box">
					<svg class="list-modal-addUsers-IntendAdd-box-close" id="modal_cancel" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						 viewBox="0 0 512 512" xml:space="preserve">
						<g>
							<polygon class="st0" points="512,52.535 459.467,0.002 256.002,203.462 52.538,0.002 0,52.535 203.47,256.005 0,459.465 
								52.533,511.998 256.002,308.527 459.467,511.998 512,459.475 308.536,256.005 	"/>
						</g>
					</svg>
					<div class="list-modal-addUsers-IntendAdd-users">
						<span class="list-modal-addUsers-IntendAdd-users-name">ブラック</span>
						<span class="list-modal-addUsers-IntendAdd-users-id">@dorachu123</span>
					</div>
				</div>
				<div class="list-modal-addUsers-IntendAdd-box">
					<svg class="list-modal-addUsers-IntendAdd-box-close" id="modal_cancel" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						 viewBox="0 0 512 512" xml:space="preserve">
						<g>
							<polygon class="st0" points="512,52.535 459.467,0.002 256.002,203.462 52.538,0.002 0,52.535 203.47,256.005 0,459.465 
								52.533,511.998 256.002,308.527 459.467,511.998 512,459.475 308.536,256.005 	"/>
						</g>
					</svg>
					<div class="list-modal-addUsers-IntendAdd-users">
						<span class="list-modal-addUsers-IntendAdd-users-name">なっちゃん</span>
						<span class="list-modal-addUsers-IntendAdd-users-id">@natsuki114514</span>
					</div>
				</div>
				<div class="list-modal-addUsers-IntendAdd-box">
					<svg class="list-modal-addUsers-IntendAdd-box-close" id="modal_cancel" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						 viewBox="0 0 512 512" xml:space="preserve">
						<g>
							<polygon class="st0" points="512,52.535 459.467,0.002 256.002,203.462 52.538,0.002 0,52.535 203.47,256.005 0,459.465 
								52.533,511.998 256.002,308.527 459.467,511.998 512,459.475 308.536,256.005 	"/>
						</g>
					</svg>
					<div class="list-modal-addUsers-IntendAdd-users">
						<span class="list-modal-addUsers-IntendAdd-users-name">Numericlock</span>
						<span class="list-modal-addUsers-IntendAdd-users-id">@numericlock</span>
					</div>
				</div>
				<div id="uncode_area"></div>
			</div>
		</div>
        <div class="modal-control">
            <button class="modal-positive-button" id="modal_submit" type='button'>作成</button>
        </div>
    </div>

	<?php/*
		$stmt = $bdd->prepare('SELECT * FROM disclosure_lists LEFT OUTER JOIN disclosure_lists_users ON disclosure_lists.id = disclosure_lists_users.list_id WHERE disclosure_lists_users.list_id = (SELECT id FROM disclosure_lists WHERE owner_user_id = ?)');
		$stmt->execute(array($_SESSION["user_id"]));
		foreach($stmt as $row){
			print '	
				<div class="list-content">
					<div class="list-icon">
						<img src="public../img/2.jpg">
					</div>
					<div class="list-title">
						<p class="list-title-p" data-value="'.$row['name'].'">'.$row['name'].'</p>
					</div>
					<svg class = "list-angle" id= '.$row['id'].' xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20"><g><path d="M13.25 10L6.109 2.58a.697.697 0 0 1 0-.979.68.68 0 0 1 .969 0l7.83 7.908a.697.697 0 0 1 0 .979l-7.83 7.908a.68.68 0 0 1-.969 0 .697.697 0 0 1 0-.979L13.25 10z"/></g>
					</svg>
				</div>
			';
		}*/
	?>
    <script>
/*\
|*|
|*|  Polyfill which enables the passage of arbitrary arguments to the
|*|  callback functions of JavaScript timers (HTML5 standard syntax).
|*|
|*|  https://developer.mozilla.org/en-US/docs/DOM/window.setInterval
|*|
|*|  Syntax:
|*|  var timeoutID = window.setTimeout(func, delay[, param1, param2, ...]);
|*|  var timeoutID = window.setTimeout(code, delay);
|*|  var intervalID = window.setInterval(func, delay[, param1, param2, ...]);
|*|  var intervalID = window.setInterval(code, delay);
|*|
\*/
        var searchTimer;
        var searchStr;
		var list_user_id_array = [];
		$(window).resize(is_no_wrap);
		jQuery(function($) {
			is_no_wrap();
		});
		function root(rootDir){
			$.ajax({
			url: rootDir + "index.php",
			cache: false,
			success: function(html){
			html = html.replace(/\{\$root\}/g, rootDir); //footer.htmlの{$root}を置換
			document.write(html);
			}
			});
		}
		function is_no_wrap(){
		  $('.list-title-p').each(function() {
			var $target = $(this);

			// オリジナルの文章を取得する
			var html = $target.data('value');

			// 対象の要素を、高さにautoを指定し非表示で複製する
			var $clone = $target.clone();
			$clone
			  .css({
				display: 'none',
				position : 'absolute',
				overflow : 'visible'
			  })
			  .width($target.width())
			  .height('auto')
			  .html(html);

			// DOMを一旦追加
			$target.after($clone);

			// 指定した高さになるまで、1文字ずつ消去していく
			while((html.length > 0) && ($clone.height() > $target.height())) {
			  html = html.substr(0, html.length - 1);
			  $clone.html(html + '...');
			}

			// 文章を入れ替えて、複製した要素を削除する
			$target.html($clone.html());
			$clone.remove();
		  });
		}
        function postForm(list_name_value, list_icon_value, list_users_id_value, is_publish_value) {
            $.ajax({
                url: 'disclosure_list_insert.php',
                type:'POST',
                dataType: 'json',
                data : {list_name : list_name_value, list_icon : list_icon_value, list_users_id_array : list_users_id_value, is_publish : is_publish_value },
                timeout:3000,
            }).done(function(data) {
                alert("ok");
            }).fail(function(XMLHttpRequest, textStatus, errorThrown) {
                alert("error");
            })
            
            
            
/*
            var form = document.createElement('form');
            var list_name_request = document.createElement('input');
            var list_icon_request = document.createElement('input');
            var list_users_id_request = document.createElement('input');
            var is_publish_request = document.createElement('input');

            form.method = 'POST';
            form.action = 'disclosure_list_insert.php';

            list_name_request.type = 'hidden'; //入力フォームが表示されないように
            list_name_request.name = 'list_name';
            list_name_request.value = list_name_value;

            list_icon_request.type = 'hidden'; //入力フォームが表示されないように
            list_icon_request.name = 'list_icon';
            list_icon_request.value = list_icon_value;
            
            list_user_id_request.type = 'hidden'; //入力フォームが表示されないように
            list_user_id_request.name = 'list-user_id';
            list_user_id_request.value = list_users_id_value;

            is_publish_request.type = 'hidden'; //入力フォームが表示されないように
            is_publish_request.name = 'is_publish';
            is_publish_request.value = is_publish_value;
            
            form.appendChild(list_name_request);
            form.appendChild(list_icon_request);
            form.appendChild(list_user_id_request);
            form.appendChild(is_publish_value);
            document.body.appendChild(form);

            form.submit();
*/
        }
        function append_box(name, id){
            $(".list-modal-addUsers-IntendAdd").append(
                '<div id="'+id+'_box" class="list-modal-addUsers-IntendAdd-box"><svg class="list-modal-addUsers-IntendAdd-box-close" id="'+id+'_box_remove_button" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><polygon class="st0" points="512,52.535 459.467,0.002 256.002,203.462 52.538,0.002 0,52.535 203.47,256.005 0,459.465 52.533,511.998 256.002,308.527 459.467,511.998 512,459.475 308.536,256.005 	"/></g></svg><div class="list-modal-addUsers-IntendAdd-users"><span class="list-modal-addUsers-IntendAdd-users-name">'+name+'</span><span class="list-modal-addUsers-IntendAdd-users-id">'+id+'</span></div></div>'
            );
			$("#uncode_area").empty();
			$("#uncode_area").append(
					'<script>$(".list-modal-addUsers-IntendAdd-box-close").on("click",function(){var str = $(this).attr("id");remove_check(str.slice( 0, -18));remove_box(str.slice( 0, -18));console.log(str.slice( 0, -18));});</sc'+'ript>'
				);
			/*
			<div class="list-modal-addUsers-IntendAdd-box">
				<svg class="list-modal-addUsers-IntendAdd-box-close" id="modal_cancel" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
					 viewBox="0 0 512 512" xml:space="preserve">
					<g>
						<polygon class="st0" points="512,52.535 459.467,0.002 256.002,203.462 52.538,0.002 0,52.535 203.47,256.005 0,459.465 
							52.533,511.998 256.002,308.527 459.467,511.998 512,459.475 308.536,256.005 	"/>
					</g>
				</svg>
				<div class="list-modal-addUsers-IntendAdd-users">
					<span class="list-modal-addUsers-IntendAdd-users-name">Numericlock</span>
					<span class="list-modal-addUsers-IntendAdd-users-id">@numericlock</span>
				</div>
			</div>
			*/
        }
        function remove_box(id){
            $("#"+id+"_box").remove();
			//要素を削除する
			var target = id;
			list_user_id_array.some(function(v, i){
				if (v==target) list_user_id_array.splice(i,1);    
			});
        }
		
		function remove_check(id){
			$('#'+id).prop('checked', false);
		}
		
        function search_for(){
            console.log(searchStr);
            $(".list-modal-addUsers-searchArea-result").empty();
            $.get("search_for_users.php",{'list-users' : searchStr},function(data){
                console.log(data);
                $('.list-modal-addUsers-searchArea-result').append(data);
            });
        }
		function list_content_get(id){
            $.get("list_select.php",{'list-id' : id},function(data){
            });
		}
		function list_members_get(id){
            $(".lists-users").empty();
            $.get("list_members_select.php",{'list-id' : id},function(data){
                console.log(data);
                $('.lists-users').append(data);
            });
		}
		
		$('.list_angle').on('click',function(){
            list_members_get($(this).attr("id"));
		});	
		
        $("#search_text").on("input", function() {
      //      document.getElementById("id_count").innerText = idStr.length+"/24";
            searchStr = $(this).val();
            clearTimeout(searchTimer);
            searchTimer = window.setTimeout(search_for, 700);
        });
		$('#modal_submit').on('click',function(){
            console.log($("#isPublish").prop("checked"));
            
            postForm($('#text').val(), list_icon_value, list_user_id_array, $("#isPublish").prop("checked"));
		});	
        
        $('.btn-square').on('click', function() {
            $('.modal').stop(true, true).fadeIn('500');
            $('#list-modal-content').show().stop(true, true).animate({
                top: "50%",
                display: "fixed",
                opacity: 1.0
            }, 500);
        });        
		
		$('.btn-square-small').on('click', function() {
			
            $('.modal').stop(true, true).fadeIn('500');
            $('#list-modal-content').show().stop(true, true).animate({
                top: "50%",
                display: "fixed",
                opacity: 1.0
            }, 500);
        });
        
        $('.modal').on('click', function() {
            $('.modal').stop(true, true).fadeOut('500');
            $('#list-modal-content').stop(true, true).animate({
                top: "-1000px",
                left: "50%",
                opacity: 0
            }, 500, function(){
				$('#list-modal-content').hide();
			});
        });
        
		$('#modal_cancel').on('click',function(){
			$('.modal').stop(true, true).fadeOut('500');
			$('#list-modal-content').stop(true, true).animate({
				top: "-100px",
				opacity: 0
			}, 500, function(){
				$('#list-modal-content').hide();
			});
		});	
        
        $('#text').focus(function(){
            $('.id_box').animate({borderTopColor: '#3be5ae', borderLeftColor: '#3be5ae', borderRightColor: '#3be5ae', borderBottomColor: '#3be5ae'}, 200);
        }).blur(function(){
            $('.id_box').animate({borderTopColor: '#d3d3d3', borderLeftColor: '#d3d3d3', borderRightColor: '#d3d3d3', borderBottomColor: '#d3d3d3'}, 200);
        });

        $('#text').change(function() {
            const str = $('#text').val();
            if(str===""){
                const result = $('.listName_string').removeClass('keepfocus');
            }else{ 
                const result = $('.listName_string').addClass('keepfocus')
            }
        });
    </script>
</body>

</html>